# 🚨 Google Play Console 버전 코드 오류 해결

## 📋 오류 메시지

> "이 APK는 버전 코드가 더 높은 하나 이상의 APK로 완전히 대체되므로 어떤 사용자에게도 제공되지 않습니다."

## 🔍 원인 분석

이 오류는 다음 상황에서 발생합니다:

1. **같은 버전 코드에 여러 파일이 업로드됨**
   - 예: 버전 코드 3에 AAB와 APK가 동시에 있음
   - 예: 버전 코드 3에 여러 AAB가 업로드됨

2. **더 높은 버전 코드의 파일이 이미 존재**
   - 예: 버전 코드 4가 이미 있는데 버전 코드 3을 업로드함

3. **같은 버전에 중복 파일**
   - 같은 버전 코드로 여러 번 업로드함

---

## ✅ 해결 방법

### 방법 1: Google Play Console에서 중복 파일 삭제 (권장)

1. **Google Play Console** 접속
2. 앱 선택 → **"프로덕션"** 또는 **"내부 테스트"** 트랙
3. **"출시"** 탭 클릭
4. 현재 버전(버전 코드 3) 확인
5. **"앱 번들 탐색기"** 또는 **"APK/AAB"** 섹션에서:
   - 중복된 파일 확인
   - 불필요한 파일 삭제
   - **하나의 AAB 파일만 남기기**

### 방법 2: 버전 코드 증가 후 새로 빌드

현재 버전 코드가 3인데, 이미 더 높은 버전이 있거나 중복이 있다면:

1. **pubspec.yaml 수정**:
   ```yaml
   version: 1.0.0+4  # +3 → +4로 증가
   ```

2. **다시 빌드**:
   ```bash
   flutter build appbundle --release
   ```

3. **새 AAB 파일 업로드**

---

## 🔍 Google Play Console에서 확인할 사항

### 1. 현재 업로드된 파일 확인

**경로**: 출시 → 프로덕션 → 앱 번들 탐색기

확인 사항:
- 버전 코드 3에 몇 개의 파일이 있는가?
- AAB와 APK가 동시에 있는가?
- 같은 버전 코드로 여러 번 업로드했는가?

### 2. 버전 코드 확인

**경로**: 출시 → 프로덕션 → 출시 버전

확인 사항:
- 현재 출시된 최고 버전 코드는?
- 버전 코드 3보다 높은 버전이 있는가?

---

## 📝 단계별 해결 가이드

### Step 1: Google Play Console 확인

1. Google Play Console 접속
2. 앱 선택
3. **"출시"** → **"프로덕션"** (또는 "내부 테스트")
4. **"앱 번들 탐색기"** 클릭
5. 버전 코드 3의 모든 파일 확인

### Step 2: 중복 파일 삭제

- 같은 버전 코드에 여러 파일이 있다면:
  - **최신 AAB 파일만 남기기**
  - 나머지 파일 삭제

### Step 3: 버전 확인

- 최고 버전 코드 확인
- 현재 빌드한 버전 코드(3)가 최고 버전보다 낮다면:
  - 버전 코드를 증가시켜야 함

---

## 🚀 권장 해결 순서

### 시나리오 A: 같은 버전에 중복 파일이 있는 경우

1. ✅ Google Play Console에서 중복 파일 삭제
2. ✅ 최신 AAB 파일만 남기기
3. ✅ "저장" 클릭

### 시나리오 B: 더 높은 버전 코드가 이미 있는 경우

1. ✅ Google Play Console에서 최고 버전 코드 확인
2. ✅ `pubspec.yaml`에서 버전 코드를 더 높게 증가
3. ✅ 다시 빌드 후 업로드

### 시나리오 C: 첫 출시인데 오류가 발생하는 경우

1. ✅ Google Play Console에서 모든 파일 삭제
2. ✅ 버전 코드를 1로 설정 (`1.0.0+1`)
3. ✅ 다시 빌드 후 업로드

---

## 💡 예방 방법

1. **한 번에 하나의 파일만 업로드**
   - AAB를 사용한다면 AAB만
   - APK를 사용한다면 APK만

2. **버전 코드는 항상 증가**
   - 이전 버전보다 반드시 높아야 함

3. **업로드 전 확인**
   - Google Play Console에서 현재 버전 확인
   - 새 버전 코드가 이전보다 높은지 확인

---

## 📞 추가 도움

- [Google Play Console 도움말](https://support.google.com/googleplay/android-developer)
- [버전 코드 가이드](https://developer.android.com/studio/publish/versioning)

---

**팁**: Google Play Console의 "앱 번들 탐색기"에서 모든 업로드된 파일을 한눈에 볼 수 있습니다. 여기서 중복을 확인하고 삭제하세요!


